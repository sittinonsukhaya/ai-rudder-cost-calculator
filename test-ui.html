<!DOCTYPE html>
<html>
<head>
  <title>UI Test - AI Rudder Calculator</title>
</head>
<body>
  <h1>Testing JavaScript Namespaces</h1>
  <div id="results"></div>

  <script src="js/calculator.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/ui.js"></script>

  <script>
    const results = document.getElementById('results');
    let output = '';

    // Test 1: Check if AIRudder namespace exists
    output += '1. AIRudder namespace: ' + (typeof window.AIRudder === 'object' ? '✓ PASS' : '✗ FAIL') + '<br>';

    // Test 2: Check if AIRudderStorage namespace exists
    output += '2. AIRudderStorage namespace: ' + (typeof window.AIRudderStorage === 'object' ? '✓ PASS' : '✗ FAIL') + '<br>';

    // Test 3: Check if AIRudderUI namespace exists
    output += '3. AIRudderUI namespace: ' + (typeof window.AIRudderUI === 'object' ? '✓ PASS' : '✗ FAIL') + '<br>';

    // Test 4: Test calculation function
    try {
      const retained = AIRudder.calculateRetainedAgents(100, 0.2);
      output += '4. calculateRetainedAgents(100, 0.2): ' + retained + ' (expected 80) - ' + (retained === 80 ? '✓ PASS' : '✗ FAIL') + '<br>';
    } catch (e) {
      output += '4. calculateRetainedAgents ERROR: ' + e.message + ' ✗ FAIL<br>';
    }

    // Test 5: Test formatting function
    try {
      const formatted = AIRudder.formatCurrency(1000);
      output += '5. formatCurrency(1000): ' + formatted + ' - ' + (formatted.includes('1') ? '✓ PASS' : '✗ FAIL') + '<br>';
    } catch (e) {
      output += '5. formatCurrency ERROR: ' + e.message + ' ✗ FAIL<br>';
    }

    // Test 6: Test storage function
    try {
      const scenarios = AIRudderStorage.listScenarios();
      output += '6. listScenarios(): ' + (Array.isArray(scenarios) ? '✓ PASS' : '✗ FAIL') + '<br>';
    } catch (e) {
      output += '6. listScenarios ERROR: ' + e.message + ' ✗ FAIL<br>';
    }

    // Test 7: Test UI namespace functions
    output += '7. AIRudderUI.updateItem exists: ' + (typeof AIRudderUI.updateItem === 'function' ? '✓ PASS' : '✗ FAIL') + '<br>';
    output += '8. AIRudderUI.removeItem exists: ' + (typeof AIRudderUI.removeItem === 'function' ? '✓ PASS' : '✗ FAIL') + '<br>';

    results.innerHTML = '<pre>' + output + '</pre>';
  </script>
</body>
</html>
